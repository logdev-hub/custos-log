<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>🏷️ Case 7 — Custo por Processo (CD: receb., put-away, picking, embalagem, expedição, inventário)</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"/>
  <style>
    :root{ --brand:#2563eb; --ink:#0f172a; --soft:#eff6ff; --ok:#10b981; }
    body{ color:var(--ink); background:linear-gradient(180deg, var(--soft) 0%, #fff 60%) }
    .hero{ background:radial-gradient(70% 80% at 50% 20%, #dbeafe 0%, #fff 70%); border-bottom:1px solid #e5e7eb; padding-block:1rem .5rem }
    .badge-soft{ background:#e0e7ff; color:#1e3a8a; }
    .card{ border-radius:1rem; box-shadow:0 10px 25px rgba(0,0,0,.06) }
    .formula{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Courier New", monospace; background:#f8fafc; border-radius:.5rem; padding:.75rem }
    .kpi{ border-left:6px solid var(--brand); padding-left:1rem }
    .kpi .value{ font-size:1.35rem; font-weight:800; color:#111827 }
    .small-note{ color:#64748b; font-size:.92rem }
    .table-sm th, .table-sm td{ vertical-align:middle }
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="navbar navbar-expand-lg bg-white sticky-top">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">UC7 — Custos Logísticos</a>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero">
    <div class="container">
      <div class="row align-items-center g-4">
        <div class="col-md-7">
          <div class="d-flex align-items-center gap-2 mb-2">
            <span class="pill">🏷️ Case 7</span>
            <span class="badge badge-soft">Custo por Processo (CD)</span>
            <span class="pill">Tempos • Unitários</span>
          </div>
          <h1 class="h4 mb-2">Custos unitários por processo no Centro de Distribuição</h1>
          <p class="mb-0 text-secondary">Defina tempos (min) por linha/pedido, custo/h de MO e insumos. O modelo calcula <strong>R$/linha</strong> e <strong>R$/pedido</strong> por processo, além de totais mensais pelo volume informado.</p>
        </div>
        <div class="col-md-5">
          <div class="card p-3">
            <div class="fw-semibold mb-2">Processos do CD</div>
            <ul class="mb-0">
              <li>📥 Recebimento</li>
              <li>📦 Put-away</li>
              <li>🧭 Picking</li>
              <li>🎁 Embalagem</li>
              <li>🚚 Expedição</li>
              <li>🧮 Inventário</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="container my-4">
    <section class="card p-4 mb-4">
      <h2 class="h5">🎯 Parâmetros gerais</h2>
      <div class="row g-3">
        <div class="col-6 col-lg-3"><label class="form-label">Linhas expedidas/mês</label><input type="number" id="linhasMes" class="form-control" value="400"></div>
        <div class="col-6 col-lg-3"><label class="form-label">Pedidos/mês</label><input type="number" id="pedidosMes" class="form-control" value="250"></div>
        <div class="col-6 col-lg-3"><label class="form-label">R$/h MOD</label><input type="number" id="custoH" class="form-control" value="20"></div>
        <div class="col-6 col-lg-3"><label class="form-label">R$/h MOI</label><input type="number" id="custoHInd" class="form-control" value="30"></div>
      </div>
      <div class="formula mt-2">Custo unitário por processo = (min/60 × R$/h) + insumos unitários (se houver).</div>
    </section>

    <section class="card p-4 mb-4">
      <h2 class="h5">⌛ Tempos (min) e insumos</h2>
      <div class="row g-2">
        <div class="col-6 col-lg-2"><label class="form-label">Receb. min/linha</label><input type="number" id="tRec" class="form-control" value="3.5"></div>
        <div class="col-6 col-lg-2"><label class="form-label">Put-away min/linha</label><input type="number" id="tPut" class="form-control" value="2.0"></div>
        <div class="col-6 col-lg-2"><label class="form-label">Picking min/linha</label><input type="number" id="tPick" class="form-control" value="3.0"></div>
        <div class="col-6 col-lg-2"><label class="form-label">Emb. min/pedido</label><input type="number" id="tPack" class="form-control" value="7.0"></div>
        <div class="col-6 col-lg-2"><label class="form-label">Exped. misc. h/mês</label><input type="number" id="tExpH" class="form-control" value="12"></div>
        <div class="col-6 col-lg-2"><label class="form-label">Inventário h/mês</label><input type="number" id="tInvH" class="form-control" value="24"></div>
        <div class="col-6 col-lg-2"><label class="form-label">Etiqueta R$/linha</label><input type="number" id="cEtiqueta" class="form-control" value="0.5"></div>
        <div class="col-6 col-lg-2"><label class="form-label">Embalagem R$/pedido</label><input type="number" id="cEmb" class="form-control" value="3.0"></div>
      </div>
    </section>

    <section class="card p-4 mb-4">
      <h2 class="h5">📊 Custos unitários</h2>
      <div class="table-responsive">
        <table class="table table-sm align-middle">
          <thead><tr><th>Processo</th><th class="text-end">R$ por linha</th><th class="text-end">R$ por pedido</th></tr></thead>
          <tbody id="tbodyUnit"></tbody>
        </table>
      </div>
      <div class="formula mt-2">
        • Receb./Put/Picking por linha: (min/60×R$/h) + etiqueta (se aplicável).<br/>
        • Embalagem por pedido: (min/60×R$/h) + embalagem.<br/>
        • Expedição/Inventário por pedido: (h/mês ÷ pedidos) × R$/h (ou MOI para inventário).
      </div>
    </section>

    <section class="card p-4">
      <h2 class="h5">🧮 Totais do mês (estimados)</h2>
      <div class="row g-3">
        <div class="col-lg-6">
          <div class="kpi mb-3"><div class="text-muted">Custo total — linhas</div><div class="value" id="kLinhas">–</div><div class="small-note">Recebimento + Put-away + Picking (linhas×R$/linha).</div></div>
          <div class="kpi"><div class="text-muted">Custo total — pedidos</div><div class="value" id="kPedidos">–</div><div class="small-note">Embalagem + Expedição + Inventário (pedidos×R$/pedido).</div></div>
        </div>
        <div class="col-lg-6">
          <div class="kpi mb-3"><div class="text-muted">R$/linha médio</div><div class="value" id="kRpl">–</div><div class="small-note">Custo total linhas ÷ linhas/mês.</div></div>
          <div class="kpi"><div class="text-muted">R$/pedido médio</div><div class="value" id="kRpp">–</div><div class="small-note">Custo total pedidos ÷ pedidos/mês.</div></div>
        </div>
      </div>
    </section>
  </main>

<script>
function v(id){ return parseFloat(document.getElementById(id).value||0); }
function calc(){
  const linhas = Math.max(v('linhasMes'),1), pedidos = Math.max(v('pedidosMes'),1);
  const rph = v('custoH'), rphI = v('custoHInd');

  const tRec=v('tRec'), tPut=v('tPut'), tPick=v('tPick');
  const tPack=v('tPack'), tExpH=v('tExpH'), tInvH=v('tInvH');
  const cEti=v('cEtiqueta'), cEmb=v('cEmb');

  const rec_l = (tRec/60)*rph + cEti;
  const put_l = (tPut/60)*rph + cEti;
  const pick_l = (tPick/60)*rph + cEti;

  const pack_p = (tPack/60)*rph + cEmb;
  const exp_p = (tExpH / pedidos) * rph;
  const inv_p = (tInvH / pedidos) * rphI;

  const tbody = document.getElementById('tbodyUnit');
  tbody.innerHTML = `
    <tr><td>📥 Recebimento</td><td class="text-end">${rec_l.toFixed(2)}</td><td class="text-end">–</td></tr>
    <tr><td>📦 Put-away</td><td class="text-end">${put_l.toFixed(2)}</td><td class="text-end">–</td></tr>
    <tr><td>🧭 Picking</td><td class="text-end">${pick_l.toFixed(2)}</td><td class="text-end">–</td></tr>
    <tr><td>🎁 Embalagem</td><td class="text-end">–</td><td class="text-end">${pack_p.toFixed(2)}</td></tr>
    <tr><td>🚚 Expedição misc.</td><td class="text-end">–</td><td class="text-end">${exp_p.toFixed(2)}</td></tr>
    <tr><td>🧮 Inventário</td><td class="text-end">–</td><td class="text-end">${inv_p.toFixed(2)}</td></tr>
  `;

  const totLinhas = linhas * (rec_l + put_l + pick_l);
  const totPedidos = pedidos * (pack_p + exp_p + inv_p);

  document.getElementById('kLinhas').textContent = totLinhas.toLocaleString('pt-BR', {minimumFractionDigits:2});
  document.getElementById('kPedidos').textContent = totPedidos.toLocaleString('pt-BR', {minimumFractionDigits:2});
  document.getElementById('kRpl').textContent = (totLinhas/linhas).toLocaleString('pt-BR', {minimumFractionDigits:2});
  document.getElementById('kRpp').textContent = (totPedidos/pedidos).toLocaleString('pt-BR', {minimumFractionDigits:2});
}
document.querySelectorAll('input').forEach(i=> i.addEventListener('input', calc));
calc();
</script>
</body>
</html>
